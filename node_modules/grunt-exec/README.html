<p><a href="http://travis-ci.org/jharding/grunt-exec"><img src="https://secure.travis-ci.org/jharding/grunt-exec.png?branch=master" alt="build status"></a></p>
<h1>grunt-exec</h1><p>Grunt plugin for executing shell commands.</p>
<p><a href="https://nodei.co/npm/grunt-exec/"><img src="https://nodei.co/npm/grunt-exec.png?downloads=true&amp;downloadRank=true&amp;stars=true" alt="NPM"></a>
<a href="https://nodei.co/npm/grunt-exec/"><img src="https://nodei.co/npm-dl/grunt-exec.png" alt="NPM"></a></p>
<h2>Installation</h2><p>Install grunt-exec using npm:</p>
<pre><code>$ npm install grunt-exec --save-dev
</code></pre><p>Then add this line to your project&#39;s <em>Gruntfile.js</em>:</p>
<pre><code class="language-javascript">grunt.loadNpmTasks(&#39;grunt-exec&#39;);
</code></pre>
<h2>Usage</h2><p>This plugin is a <a href="http://gruntjs.com/configuring-tasks#task-configuration-and-targets">multi task</a>, meaning that grunt will 
automatically iterate over all exec targets if a target is not specified.</p>
<p>If the exit code generated by the specified shell command is greater than 0, 
grunt-exec will assume an error has occurred and will abort grunt immediately.</p>
<h3>Properties</h3><ul>
<li><strong>command</strong> (alias: <strong>cmd</strong>): The shell command to be executed. Must be a 
string or a function that returns a string.</li>
<li><strong>stdin</strong>: If <code>true</code>, stdin will be redirected from the child process to the current process allowing user interactivity (EXPERIMENTAL)</li>
<li><strong>stdout</strong>: If <code>true</code>, stdout will be printed. Defaults to <code>true</code>.</li>
<li><strong>stderr</strong>: If <code>true</code>, stderr will be printed. Defaults to <code>true</code>.</li>
<li><strong>cwd</strong>: Current working directory of the shell command. Defaults to the 
directory containing your Gruntfile.</li>
<li><strong>exitCode</strong> (alias: <strong>exitCodes</strong>): The expected exit code(s), task will 
fail if the actual exit code doesn&#39;t match. Defaults to <code>0</code>. Can be an array 
for multiple allowed exit codes.</li>
<li><strong>callback</strong>: The callback function passed <code>child_process.exec</code>. Defaults to 
a noop.</li>
<li><strong>callbackArgs</strong>: Additional arguments to pass to the callback. Defaults to empty array.</li>
<li><strong>sync</strong>: Whether to use <code>child_process.spawnSync</code>. Defaults to false.</li>
<li><strong>options</strong>: Options to provide to <code>child_process.exec</code>. <a href="http://nodejs.org/api/child_process.html#child_process_child_process_exec_command_options_callback">NodeJS Documentation</a><ul>
<li><code>cwd</code> String Current working directory of the child process</li>
<li><code>env</code> Object Environment key-value pairs</li>
<li><code>encoding</code> String <em>(Default: &#39;utf8&#39;)</em></li>
<li><code>shell</code> String Shell to execute the command with <em>(Default: &#39;/bin/sh&#39; on UNIX, &#39;cmd.exe&#39; on Windows, The shell should understand the -c switch on UNIX or /s /c on Windows. On Windows, command line parsing should be compatible with cmd.exe.)</em></li>
<li><code>timeout</code> Number <em>(Default: 0)</em></li>
<li><code>maxBuffer</code> Number largest amount of data (in bytes) allowed on stdout or stderr - if exceeded child process is killed <strong>(Default: 200*1024)</strong></li>
<li><code>killSignal</code> String <em>(Default: &#39;SIGTERM&#39;)</em></li>
<li><code>uid</code> Number Sets the user identity of the process. (See <a href="http://man7.org/linux/man-pages/man2/setuid.2.html">setuid(2)</a>.)</li>
<li><code>gid</code> Number Sets the group identity of the process. (See <a href="http://man7.org/linux/man-pages/man2/setgid.2.html">setgid(2)</a>.)</li>
</ul>
</li>
</ul>
<p>If the configuration is instead a simple <code>string</code>, it will be
interpreted as a full command itself:</p>
<pre><code class="language-javascript">exec: {
  echo_something: &#39;echo &quot;This is something&quot;&#39;
}
</code></pre>
<h3>Command Functions</h3><p>If you plan on doing advanced stuff with grunt-exec, you&#39;ll most likely be using 
functions for the <code>command</code> property of your exec targets. This section details 
a couple of helpful tips about command functions that could help make your life 
easier.</p>
<h4>Passing arguments from the command line</h4><p>Command functions can be called with arbitrary arguments. Let&#39;s say we have the 
following exec target that echoes a formatted name:</p>
<pre><code class="language-javascript">exec: {
  echo_name: {
    cmd: function(firstName, lastName) {
      var formattedName = [
        lastName.toUpperCase(),
        firstName.toUpperCase()
      ].join(&#39;, &#39;);

      return &#39;echo &#39; + formattedName;
    }
  }
}
</code></pre>
<p>In order to get <code>SIMPSON, HOMER</code> echoed, you&#39;d run 
<code>grunt exec:echo_name:homer:simpson</code> from the command line.</p>
<h3>Accessing <code>grunt</code> object</h3><p>All command functions are called in the context of the <code>grunt</code> object that they 
are being ran with. This means you can access the <code>grunt</code> object through <code>this</code>.</p>
<h3>Example</h3><p>The following examples are available in grunt-exec&#39;s Gruntfile.</p>
<pre><code class="language-javascript">grunt.initConfig({
  exec: {
    remove_logs: {
      command: &#39;rm -f *.log&#39;,
      stdout: false,
      stderr: false
    },
    list_files: {
      cmd: &#39;ls -l **&#39;
    },
    list_all_files: &#39;ls -la&#39;,
    echo_grunt_version: {
      cmd: function() { return &#39;echo &#39; + this.version; }
    },
    echo_name: {
      cmd: function(firstName, lastName) {
        var formattedName = [
          lastName.toUpperCase(),
          firstName.toUpperCase()
        ].join(&#39;, &#39;);

        return &#39;echo &#39; + formattedName;
      }
    }
  }
});
</code></pre>
<h2>Testing</h2><pre><code>$ cd grunt-exec
$ npm test
</code></pre><h2>Issues</h2><p>Found a bug? Create an issue on GitHub.</p>
<p><a href="https://github.com/jharding/grunt-exec/issues">https://github.com/jharding/grunt-exec/issues</a></p>
<h2>Versioning</h2><p>For transparency and insight into the release cycle, releases will be numbered 
with the follow format:</p>
<p><code>&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;</code></p>
<p>And constructed with the following guidelines:</p>
<ul>
<li>Breaking backwards compatibility bumps the major</li>
<li>New additions without breaking backwards compatibility bumps the minor</li>
<li>Bug fixes and misc changes bump the patch</li>
</ul>
<p>For more information on semantic versioning, please visit <a href="http://semver.org/">http://semver.org/</a>.</p>
<h2>License</h2><p>Original Copyright (c) 2012-2014 <a href="http://thejakeharding.com">Jake Harding</a>
Copyright (c) 2016 grunt-exec
Licensed under the <a href="http://www.opensource.org/licenses/mit-license.php">MIT License</a>.</p>
